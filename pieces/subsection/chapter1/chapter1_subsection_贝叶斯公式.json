[
    {
        "strategy": "subsection",
        "source": "chapter1",
        "title": "贝叶斯公式",
        "content_length": 3914,
        "content": "Title: 贝叶斯公式\nContent: 在乘法公式和全概率公式的基础上立即可推得一个很著名的公式.\n\n\\begin{property}[贝叶斯公式]\\label{prop1.4.4}\n  设 $B_1, B_2, \\dotsc, B_n$ 是样本空间 $\\Omega$ 的一个分割,\n  即 $B_1, B_2, \\dotsc, B_n$ 互不相容,\n  且 $\\bigcup_{i=1}^n B_i = \\Omega$,\n  如果 $P(A) > 0$, $P(B_i) > 0$, $i = 1,2, \\dotsc, n$,\n  则\n  \\begin{equation}\n    P (B_i | A) = \\frac{P(B_i) P(A|B_i)}{\\sum_{j=1}^n P(B_j) P(A|B_j)},\n    i = 1,2,\\dotsc,n.\n    \\label{eq1.4.6}\n  \\end{equation}\n\\end{property}\n\n\\begin{proof}\n  由条件概率的定义\n  \\[\n    P(B_i|A) = \\frac{P(AB_i)}{P(A)}.\n  \\]\n  对上式的分子用乘法公式、分母用全概率公式,\n  \\begin{align*}\n    & P(AB_i) = P(B_i) P(A|B_i),\\\\\n    & P(A) = \\sum_{j=1}^n P(B_j) P(A|B_j),\n  \\end{align*}\n  即得\n  \\[\n    P(B_i|A) = \\frac{P(B_i) P(A|B_i)}{\\sum_{j=1}^n P(B_j) P(A|B_j)}.\n  \\]\n  结论得证.\n\\end{proof}\n\n\\begin{example}\n  某地区居民的肝癌发病率为 \\num{0.0004},\n  现用甲胎蛋白法进行普查.\n  医学研究表明,\n  化验结果是存有错误的.\n  已知患有肝癌的人其化验结果 \\SI{99}{\\percent} 呈阳性 (有病),\n  而没患肝癌的人其化验结果 \\SI{99.9}{\\percent} 呈阴性 (无病).\n  现某人的检查结果呈阳性,\n  问他真的患肝癌的概率是多少?\n\\end{example}\n\n\\begin{solution}\n  记 $B$ 为事件“被检查者患有肝癌”,\n  $A$ 为事件“检查结果呈阳性”.\n  由题设知\n  \\begin{gather*}\n    P(B) = 0.0004, \\quad P(\\overline{B}) = 0.996,\\\\\n    P(A|B) = 0.99, \\quad P(A|\\overline{B}) = 0.001.\n  \\end{gather*}\n\n  我们现在的目的是求 $P(B|A)$.\n  由贝叶斯公式得\n  \\begin{align*}\n    P(B|A) &= \\frac{P(B) P(A|B)}{P(B) P(A|B) + P(\\overline{B}) P(A|\\overline{B})}\\\\\n    &= \\frac{0.0004 \\times 0.99}{0.0004 \\times 0.99 + 0.9996 \\times 0.001}\\\\\n    &= 0.284.\n  \\end{align*}\n  这表明,\n  在检查结果呈阳性的人中,\n  真患肝癌的人不到 \\SI{30}{\\percent},\n  这个结果可能会使人吃惊,\n  但仔细分析一下就可以理解了.\n  因为肝癌发病率很低,\n  在 \\num{10000} 个人中,\n  约有 4 人,\n  而约有 \\num{9996} 个人不惠肝癌.\n  对 \\num{10000} 个人用甲胎蛋白法进行检查,\n  按其错检的概率可知,\n  \\num{9996} 个不患肝癌者中约有 $9996 \\times 0.001 \\cong 9.994$ 个呈阳性.\n  另外 4 个真患肝癌者的检查报告中约有 $4 \\times 0.99 \\cong 3.96 $ 个呈阳性.\n  仅从 \\num{13.956} 个呈阳性者中看,\n  真患肝癌的 3.96 人约占 \\SI{28.4}{\\percent}.\n\\end{solution}\n\n进一步降低错检的概率是提高检验精度的关键.\n在实际中由于技术和操作等种种原因,\n降低错检的概率又是很困难的.\n所以在实际中,\n常采用复查的方法来减少错误率.\n或用另一些简单易行的辅助方法先进行初查,\n排除了大量明显不是肝癌的人后,\n再用甲胎蛋白法对被怀疑的对象进行检查.\n此时被怀疑的对象群体中,\n肝癌的发病率已大大提高了.\n警如,\n对首次检查得阳性的人群再进行复查,\n此时 $P(B) = 0.284$,\n这时再用贝叶斯公式计算得\n\\[\n  P(B|A) = \\frac{0.284 \\times 0.99}{0.284 \\times 0.99 + 0.716 \\times 0.0001} = 0.997.\n\\]\n这就大大提高了甲胎蛋白法的准确率了.\n\n在上面例中,\n如果我们将事件 $B$ （“被检查者患有肝癌”） 看作是“原因”,\n将事件 $A$ （“检查结果呈阳性”） 看作是最后“结果”.\n则我们用贝叶斯公式在已知“结果”的条件下,\n求出了“原因”的概率 $P(B|A)$.\n而求“结果”的 （无条件） 概率 $P(A)$,\n用全概率公式.\n在上例中若取 $P(B) = 0.284$,\n则\n\\begin{align*}\n  P(A) &= P(B) P(A|B) + P(\\overline{B}) P(A|\\overline{B})\\\\\n  &= 0.284 \\times 0.99 + 0.716 \\times 0.001\\\\\n  &= 0.2819.\n\\end{align*}\n\n\n条件概率的三公式中,\n乘法公式是求事件交的概率.\n全概率公式是求一个复杂事件的概率,\n而贝叶斯公式是求一个条件概率.\n\n在贝叶斯公式中,\n如果称 $P(B_i)$ 为 $B_i$ 的先验概率,\n称 $P(B_i |A)$ 为 $B_i$ 的后验概率, 则贝叶斯公式是专门用于计算后验概率的, 也就是通过$A$的发生这个新信息, 来对$B_i$的概率作出的修正. 下面例子很好地说明了这一点.\n\n\\begin{example}\n  伊索寓言“孩子与狼”讲的是一个小孩每天到山上放羊，山里有狼出没.第一天，他在山上喊：“狼来了！狼来了！”，山下的村民闻声便去打狼，可到山上，发现狼没有来；第二天仍是如此；第三天，狼真的来了，可无论小孩怎么喊叫，也没有人来救他，因为前二次他说了谎，人们不再相信他了.\n\\end{example}\n\n现在用贝叶斯公式来分析此寓言中村民对这个小孩的可信程度是如何下降的.\n\n首先记事件$A$为“小孩说谎”，记事件$B$为“小孩可信”.不妨设村民过去对这个小孩的印象为\n\\begin{equation}\\label{eq1.4.7}\n  P(B) = 0.8,\\quad P(\\bar B) = 0.2.\n\\end{equation}\n\n我们现在用贝叶斯公式来求$P(B|A)$，亦即这个小孩说了一次谎后，村民对他可信程度的改变.\n\n在贝叶斯公式中我们要用到概率$P(A|B)$和$P(A|\\bar B)$，这两个概率的含义是：前者为“可信”$(B)$的孩子“说谎”$(A)$的可能性，后者为“不可信”$(\\bar B)$的孩子“说谎”$(A)$的可能性.在此不妨设\n\\[\n  P(A|B) = 0.1,\\quad P(A|\\bar B) = 0.5.\n\\]\n\n第一次村民上山打狼，发现狼没有来，即小孩说了谎$(A)$.村民根据这个信息，对这个小孩的可信程度改变为（用贝叶斯公式）\n\\begin{align*}\n  P(B|A) & = \\frac{P(B)P(A|B)}{P(B)P(A|B) + P(\\bar B)P(A|\\bar B) } \\\\\n  & = \\frac{0.8\\times0.1}{0.8\\times0.1 + 0.2\\times0.5} = 0.444.\n\\end{align*}\n\n这表明村民上了一次当后，对这个小孩的可信程度由原来的0.8调整为\n0.444，也就是 \\eqref{eq1.4.7} 调整为\n\\begin{equation}\\label{eq1.4.8}\n  P(B) = 0.444,\\quad P(\\bar B) = 0.556.\n\\end{equation}\n在此基础上，我们再一次用贝叶斯公式来计算$P(B|A)$，亦即这个小孩第二次说谎后，村民对他的可信程度改变为\n\\[\n  P(B|A) = \\frac{0.444\\times0.1}{0.444\\times0.1 + 0.556\\times0.5} = 0.138.\n\\]\n\n这表明村民们经过两次上当，对这个小孩的可信程度已经从0.8下降到了\n0.138，如此低的可信度，村民听到第三次呼叫时怎么再会上山打狼呢?\n\n这个例子启发人们：若某人向银行贷款，连续两次未还，银行还会第三次贷款给他吗?\n\n\n\n\\section{独立性}\n\n独立性是概率论中又一个重要概念，利用独立性可以简化概率的计算.下面先讨论两个事件之间的独立性，然后讨论多个事件之间的相互独立性，最后讨论试验之间的独立性."
    },
    {
        "id": "chatcmpl-92WUTm3aQ9SCPo28xzim7AlMOpyT8",
        "choices": [
            {
                "finish_reason": "stop",
                "index": 0,
                "logprobs": null,
                "message": {
                    "content": "{\n    \"题目1\": \"什么是贝叶斯公式？\",\n    \"回答1\": \"贝叶斯公式是概率论中的一个重要公式，它是在乘法公式和全概率公式的基础上推导得到的。贝叶斯公式描述了在已知某些先验条件下，通过新的信息来修正事件发生的概率。具体而言，对于样本空间 $\\text{B}_1, \\text{B}_2, \\text{...}, \\text{B}_\\text{n}$ 的一个分割，如果已知事件 $\\text{A}$ 发生的条件下，求事件 $\\text{B}_\\text{i}$ 发生的概率，那么可以使用贝叶斯公式来计算。\",\n    \"题目2\": \"贝叶斯公式的具体表达式是什么？\",\n    \"回答2\": \"贝叶斯公式的具体表达式为 $P(\\text{B}_\\text{i} | \\text{A}) = \\frac{P(\\text{B}_\\text{i}) P(\\text{A} | \\text{B}_\\text{i})}{\\text{∑}_{\\text{j}=1}^\\text{n} P(\\text{B}_\\text{j}) P(\\text{A} | \\text{B}_\\text{j})}$，其中 $P(\\text{B}_\\text{i})$ 为事件 $\\text{B}_\\text{i}$ 的先验概率，$P(\\text{A} | \\text{B}_\\text{i})$ 为事件 $\\text{A}$ 在已知 $\\text{B}_\\text{i}$ 发生的条件下的概率，$\\text{∑}_{\\text{j}=1}^\\text{n} P(\\text{B}_\\text{j}) P(\\text{A} | \\text{B}_\\text{j})$ 是对所有事件 $\\text{B}_\\text{j}$ 的先验概率与条件概率的乘积求和。\",\n    \"题目3\": \"请举一个实际应用贝叶斯公式的例子。\",\n    \"回答3\": \"一个典型的应用是医学诊断中的概率计算。比如，某地区居民的肝癌发病率为0.0004，现用甲胎蛋白法进行普查。已知患有肝癌的人其化验结果呈阳性的概率为0.99，而没患肝癌的人其化验结果呈阳性的概率为0.001。现某人的检查结果呈阳性，利用贝叶斯公式可以计算出他真的患肝癌的概率。\",\n    \"题目4\": \"贝叶斯公式在实际中的应用有哪些启示？\",\n    \"回答4\": \"贝叶斯公式在实际中的应用启示我们，在已知一些先验条件的情况下，通过新的信息来修正事件发生的概率。这对于医学诊断、金融风险评估、信息检索等领域具有重要意义。同时，贝叶斯公式的应用也提醒我们在处理概率问题时，需要考虑先验信息对结果的影响，以及如何通过新的信息来修正先验概率。\",\n    \"题目5\": \"贝叶斯公式中的先验概率和后验概率分别代表什么？\",\n    \"回答5\": \"在贝叶斯公式中，先验概率指的是在未考虑任何新信息的情况下，事件发生的概率；而后验概率则是在考虑了新信息之后，事件发生的修正概率。先验概率是基于已知信息得出的概率，而后验概率是在考虑了新信息之后对先验概率进行修正得到的概率。\"\n}",
                    "role": "assistant",
                    "function_call": null,
                    "tool_calls": null
                }
            }
        ],
        "created": 1710388577,
        "model": "gpt-3.5-turbo-1106",
        "object": "chat.completion",
        "system_fingerprint": "fp_4aaaf0dc94",
        "usage": {
            "completion_tokens": 1055,
            "prompt_tokens": 5363,
            "total_tokens": 6418
        },
        "parameters": {
            "model": "gpt-3.5-turbo-1106",
            "temperature": 0.0,
            "frequency_penalty": 0.0,
            "presence_penalty": 0.0
        }
    }
]