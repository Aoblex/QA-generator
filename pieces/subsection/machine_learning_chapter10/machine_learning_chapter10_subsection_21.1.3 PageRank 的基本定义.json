[
    {
        "strategy": "subsection",
        "source": "machine_learning_chapter10",
        "title": "21.1.3 PageRank 的基本定义",
        "content_length": 3646,
        "content": "Title: 21.1.3 PageRank 的基本定义\nContent:\n给定一个包含 $n$ 个结点的强连通且非周期性的有向图, 在其基础上定义随机游走模型。假设转移矩阵为 $\\boldsymbol{M}$, 在时刻 $0,1,2, \\cdots, t, \\cdots$ 访问各个结点的概率分布为\n\n$$\nR_{0}, M R_{0}, M^{2} R_{0}, \\cdots, M^{t} R_{0}, \\cdots\n$$\n\n则极限\n\n\n\\begin{equation*}\n\\lim _{t \\rightarrow \\infty} M^{t} \\boldsymbol{R}_{0}=\\boldsymbol{R} \\tag{21.5}\n\\end{equation*}\n\n\n存在, 极限向量 $\\boldsymbol{R}$ 表示马尔可夫链的平稳分布, 满足\n\n$$\nM R=R\n$$\n\n定义 21.3 (PageRank 的基本定义） 给定一个包含 $n$ 个结点 $v_{1}, v_{2}, \\cdots, v_{n}$ 的强连通且非周期性的有向图, 在有向图上定义随机游走模型, 即一阶马尔可夫链。随机游走的特点是从一个结点到有有向边连出的所有结点的转移概率相等, 转移矩阵为 $M$ 。这个马尔可夫链具有平稳分布 $R:$\n\n\n\\begin{equation*}\nM R=R \\tag{21.6}\n\\end{equation*}\n\n\n平稳分布 $\\boldsymbol{R}$ 称为这个有向图的 PageRank。 $\\boldsymbol{R}$ 的各个分量称为各个结点的 PageRank 值。\n\n$$\n\\boldsymbol{R}=\\left[\\begin{array}{c}\n\\operatorname{PR}\\left(v_{1}\\right) \\\\\n\\operatorname{PR}\\left(v_{2}\\right) \\\\\n\\vdots \\\\\n\\operatorname{PR}\\left(v_{n}\\right)\n\\end{array}\\right]\n$$\n\n其中, $\\mathrm{PR}\\left(v_{i}\\right), i=1,2, \\cdots, n$, 表示结点 $v_{i}$ 的 PageRank 值。\n\n显然有\n\n\n\\begin{gather*}\n\\operatorname{PR}\\left(v_{i}\\right) \\geqslant 0, \\quad i=1,2, \\cdots, n  \\tag{21.7}\\\\\n\\sum_{i=1}^{n} \\operatorname{PR}\\left(v_{i}\\right)=1  \\tag{21.8}\\\\\n\\operatorname{PR}\\left(v_{i}\\right)=\\sum_{v_{j} \\in M\\left(v_{i}\\right)} \\frac{\\operatorname{PR}\\left(v_{j}\\right)}{L\\left(v_{j}\\right)}, \\quad i=1,2, \\cdots, n \\tag{21.9}\n\\end{gather*}\n\n\n这里 $M\\left(v_{i}\\right)$ 表示指向结点 $v_{i}$ 的结点集合, $L\\left(v_{j}\\right)$ 表示结点 $v_{j}$ 连出的有向边的个数。\n\nPageRank 的基本定义是理想化的情况, 在这种情况下, PageRank 存在, 而且可以通过不断迭代求得 PageRank 值。\n\n定理 21.1 不可约且非周期的有限状态马尔可夫链有唯一平稳分布存在, 并且当时间趋于无穷时状态分布收敛于唯一的平稳分布。\n\n根据马尔可夫链平稳分布定理, 对于强连通且非周期的有向图上定义的随机游走模\\\\\n型 (马尔可夫链), 当在图上的随机游走时间趋于无穷时状态分布收玫于唯一的平稳分布。\n\n例 21.1 已知图 21.1 的有向图, 求该图的 PageRank。(1)\n\n解 转移矩阵\n\n$$\n\\boldsymbol{M}=\\left[\\begin{array}{cccc}\n0 & 1 / 2 & 1 & 0 \\\\\n1 / 3 & 0 & 0 & 1 / 2 \\\\\n1 / 3 & 0 & 0 & 1 / 2 \\\\\n1 / 3 & 1 / 2 & 0 & 0\n\\end{array}\\right]\n$$\n\n取初始分布向量 $\\boldsymbol{R}_{0}$ 为\n\n$$\n\\boldsymbol{R}_{0}=\\left[\\begin{array}{c}\n1 / 4 \\\\\n1 / 4 \\\\\n1 / 4 \\\\\n1 / 4\n\\end{array}\\right]\n$$\n\n以转移矩阵 $M$ 连乘初始向量 $\\boldsymbol{R}_{0}$ 得到向量序列:\n\n$$\n\\left[\\begin{array}{l}\n1 / 4 \\\\\n1 / 4 \\\\\n1 / 4 \\\\\n1 / 4\n\\end{array}\\right],\\left[\\begin{array}{l}\n9 / 24 \\\\\n5 / 24 \\\\\n5 / 24 \\\\\n5 / 24\n\\end{array}\\right],\\left[\\begin{array}{l}\n15 / 48 \\\\\n11 / 48 \\\\\n11 / 48 \\\\\n11 / 48\n\\end{array}\\right],\\left[\\begin{array}{c}\n11 / 32 \\\\\n7 / 32 \\\\\n7 / 32 \\\\\n7 / 32\n\\end{array}\\right], \\quad \\cdots,\\left[\\begin{array}{c}\n3 / 9 \\\\\n2 / 9 \\\\\n2 / 9 \\\\\n2 / 9\n\\end{array}\\right]\n$$\n\n最后得到极限向量:\n\n$$\n\\boldsymbol{R}=\\left[\\begin{array}{c}\n3 / 9 \\\\\n2 / 9 \\\\\n2 / 9 \\\\\n2 / 9\n\\end{array}\\right]\n$$\n\n即有向图的 PageRank 值。\n\n一般的有向图未必满足强连通且非周期性的条件。比如在互联网, 大部分网页没有连接出去的超链接, 也就是说从这些网页无法跳转到其他网页, 所以 PageRank 的基本定义不适用。\n\n例 21.2 从图 21.1 的有向图中去掉由 $\\mathrm{C}$ 到 $\\mathrm{A}$ 的边, 得到图 21.3 的有向图。在图 21.3 的有向图中, 结点 $\\mathrm{C}$ 没有边连接出去。\n\n图 21.3 的有向图的转移矩阵 $\\boldsymbol{M}$ 是\n\n$$\n\\boldsymbol{M}=\\left[\\begin{array}{cccc}\n0 & 1 / 2 & 0 & 0 \\\\\n1 / 3 & 0 & 0 & 1 / 2 \\\\\n1 / 3 & 0 & 0 & 1 / 2 \\\\\n1 / 3 & 1 / 2 & 0 & 0\n\\end{array}\\right]\n$$\n\n(1) 例 21.1 和例 21.2 来自文献 [2]。\n\n\\begin{center}\n\\includegraphics[max width=\\textwidth]{2024_03_13_3182641e7f8cf23e4171g-17}\n\\end{center}\n\n图 21.3 有向图\n\n这时 $M$ 不是一个随机矩阵, 因为随机矩阵要求每一列的元素之和是 1 , 这里第 3 列的和是 0 , 不是 1 。\n\n如果仍然计算在各个时刻的各个结点的概率分布, 就会得到如下结果:\n\n$$\n\\left[\\begin{array}{l}\n1 / 4 \\\\\n1 / 4 \\\\\n1 / 4 \\\\\n1 / 4\n\\end{array}\\right],\\left[\\begin{array}{l}\n3 / 24 \\\\\n5 / 24 \\\\\n5 / 24 \\\\\n5 / 24\n\\end{array}\\right],\\left[\\begin{array}{l}\n5 / 48 \\\\\n7 / 48 \\\\\n7 / 48 \\\\\n7 / 48\n\\end{array}\\right],\\left[\\begin{array}{l}\n21 / 288 \\\\\n31 / 288 \\\\\n31 / 288 \\\\\n31 / 288\n\\end{array}\\right], \\cdots,\\left[\\begin{array}{l}\n0 \\\\\n0 \\\\\n0 \\\\\n0\n\\end{array}\\right]\n$$\n\n可以看到, 随着时间推移, 访问各个结点的概率皆变为 0 。"
    },
    {
        "id": "chatcmpl-93zSqJf0HiqhreINxKnw8BAfTpHIM",
        "choices": [
            {
                "finish_reason": "stop",
                "index": 0,
                "logprobs": null,
                "message": {
                    "content": "{\n    \"问题1\": \"什么是 PageRank 的基本定义？\",\n    \"回答1\": \"PageRank 的基本定义是在强连通且非周期性的有向图上定义随机游走模型，即一阶马尔可夫链。通过转移矩阵 $M$，可以得到极限向量 $\\boldsymbol{R}$，表示马尔可夫链的平稳分布。平稳分布 $\\boldsymbol{R}$ 称为这个有向图的 PageRank，其中 $\\boldsymbol{R}$ 的各个分量称为各个结点的 PageRank 值。\",\n    \"问题2\": \"PageRank 的基本定义中的转移矩阵 $M$ 是如何定义的？\",\n    \"回答2\": \"在 PageRank 的基本定义中，转移矩阵 $M$ 是在强连通且非周期性的有向图上定义的，其中随机游走的特点是从一个结点到有有向边连出的所有结点的转移概率相等。\",\n    \"问题3\": \"PageRank 值有什么特点？\",\n    \"回答3\": \"PageRank 值具有以下特点：每个结点的 PageRank 值大于等于 0；所有结点的 PageRank 值之和等于 1；每个结点的 PageRank 值与指向该结点的其他结点的 PageRank 值和连接出去的有向边的个数有关。\",\n    \"问题4\": \"PageRank 的基本定义对于哪种情况适用？\",\n    \"回答4\": \"PageRank 的基本定义适用于强连通且非周期性的有向图，其中存在唯一平稳分布，并且可以通过不断迭代求得 PageRank 值。\",\n    \"问题5\": \"为什么 PageRank 的基本定义不适用于大部分互联网网页？\",\n    \"回答5\": \"大部分互联网网页存在大量没有连接出去的超链接，即从这些网页无法跳转到其他网页，因此不满足强连通且非周期性的条件，导致 PageRank 的基本定义不适用。\",\n    \"问题6\": \"什么是不可约且非周期的有限状态马尔可夫链？\",\n    \"回答6\": \"不可约且非周期的有限状态马尔可夫链指的是在状态空间中任意两个状态之间存在路径相通，并且不存在周期性循环。对于这种马尔可夫链，存在唯一平稳分布，并且当时间趋于无穷时状态分布收敛于唯一的平稳分布。\",\n    \"问题7\": \"如何计算一个给定图的 PageRank？\",\n    \"回答7\": \"计算一个给定图的 PageRank 需要构建转移矩阵 $M$ 和初始分布向量 $\\boldsymbol{R}_{0}$。然后通过连乘转移矩阵 $M$ 和初始向量 $\\boldsymbol{R}_{0}$ 得到向量序列，并最终得到极限向量 $\\boldsymbol{R}$，即为该图的 PageRank 值。\",\n    \"问题8\": \"如果从一个图中去掉某些边或节点，会对其 PageRank 产生什么影响？\",\n    \"回答8\": \"从一个图中去掉某些边或节点可能会改变转移矩阵 $M$ 的定义，进而影响 PageRank 的计算结果。特别地，如果去掉的边或节点导致转移矩阵 $M$ 不再是随机矩阵，则会影响 PageRank 的计算和结果。\",\n    \"问题9\": \"为什么在某些情况下随着时间推移，访问各个结点的概率会变为 0？\",\n    \"回答9\": \"在某些情况下，随着时间推移，访问各个结点的概率会变为 0 是因为在转移矩阵 $M$ 中存在某些状态无法再进行状态转移，导致最终无法访问到这些状态，从而使得概率变为 0。\",\n    \"问题10\": \"PageRank 的基本定义与马尔可夫链平稳分布定理之间有何关联？\",\n    \"回答10\": \"PageRank 的基本定义是基于马尔可夫链平稳分布定理而提出的。根据马尔可夫链平稳分布定理，在强连通且非周期性的有向图上定义的随机游走模型（马尔可夫链），当在图上的随机游走时间趋于无穷时状态分布收敛于唯一的平稳分布，即为 PageRank。\"\n}",
                    "role": "assistant",
                    "function_call": null,
                    "tool_calls": null
                }
            }
        ],
        "created": 1710738280,
        "model": "gpt-3.5-turbo-1106",
        "object": "chat.completion",
        "system_fingerprint": "fp_4aaaf0dc94",
        "usage": {
            "completion_tokens": 1297,
            "prompt_tokens": 4729,
            "total_tokens": 6026
        },
        "parameters": {
            "model": "gpt-3.5-turbo-1106",
            "temperature": 0.2,
            "frequency_penalty": 0.15,
            "presence_penalty": 0.15
        }
    }
]